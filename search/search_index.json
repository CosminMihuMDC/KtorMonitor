{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"KtorMonitor","text":"<p>Powerful tool to monitor Ktor Client requests and responses, making it easier to debug and analyze network communication.</p>"},{"location":"#features","title":"\u2728 Features","text":"<ul> <li>\ud83c\udf10Ktor Network Monitoring: Real-time interception and logging of Ktor Client traffic.</li> <li>\ud83d\udcf1Kotlin Multiplatform (KMP): Full support for Android, iOS, Desktop (JVM), Wasm, and JS.</li> <li>\ud83d\udee0\ufe0fHighly Configurable: Customize retention periods, content length limits, and notification behavior.</li> <li>\ud83d\udd12Security First: Redact sensitive headers (e.g., Authorization).</li> <li>\ud83d\udcc2Data Export: Save request/response details to local files for easier debugging or sharing.</li> <li>\ud83c\udfa8Rich Previews: Built-in viewers for JSON, XML, HTML, CSS, Form Data, Image (JPG, PNG, SVG, GIF, WEBP).</li> <li>\ud83d\udce1SSE &amp; WebSockets: Track one-way streams (SSE) and bidirectional traffic (WebSockets).</li> <li>\ud83d\udee1\ufe0fProduction Safe: No-Op version to ensure monitoring code is excluded from your production builds.</li> </ul> <p>By default, <code>KtorMonitor</code>:</p> <ul> <li>android \u2192 isActive for <code>debug</code> builds and disabled for <code>release</code> builds</li> <li>ios \u2192 isActive for <code>debug</code> builds and disabled for <code>release</code> builds</li> <li>desktop -&gt; isActive for all builds</li> <li>wasm \u2192 isActive for all builds</li> <li>js \u2192 isActive for all builds</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#feedback","title":"\u270d\ufe0f Feedback","text":"<p>Found a bug or have a feature request? File an issue.</p>"},{"location":"contributing/#acknowledgments","title":"\ud83d\ude4c Acknowledgments","text":"<p>Community discussions on Slack \u2014 join us in the #ktormonitor channel.  Documentation is available at KtorMonitor Documentation.  API is available at KtorMonitor API.  KtorMonitor is available also on JetBrains' klibs.io.   Some parts of this project are reusing ideas that are originally coming from Chucker.  Thanks to ChuckerTeam for Chucker!  Thanks to JetBrains for Ktor and Kotlin!   Medium article: Ktor Monitor</p>"},{"location":"contributing/#sponsors","title":"\ud83d\udcb8 Sponsors","text":"<p>KtorMonitor is maintained and improved during nights, weekends and whenever team has free time. If you use KtorMonitor in your project, please consider sponsoring us.</p> <p>You can sponsor us by clicking \u2665 Sponsor.  </p>"},{"location":"contributing/#credits","title":"\ud83d\ude4f\ud83c\udffb Credits","text":"<p>KtorMonitor is brought to you by these contributors.</p>"},{"location":"getting_started/","title":"Getting Started","text":""},{"location":"getting_started/#_1","title":"Getting Started","text":"Kotlin MultiplatformAndroid Only <pre><code>kotlin {\n    sourceSets {\n        commonMain.dependencies {\n            implementation(\"ro.cosminmihu.ktor:ktor-monitor-logging:1.10.0\")\n        }\n    }\n}\n</code></pre> <p>For Release Builds (No-Op)</p> <p>To isolate KtorMonitor from release builds, use the <code>ktor-monitor-logging-no-op</code> variant. This ensures the monitor code is not included in production artifact.</p> <pre><code>kotlin {\n    sourceSets {\n        commonMain.dependencies {\n            implementation(\"ro.cosminmihu.ktor:ktor-monitor-logging-no-op:1.10.0\")\n        }\n    }\n}\n</code></pre> <pre><code>dependencies {\n    debugImplementation(\"ro.cosminmihu.ktor:ktor-monitor-logging:1.10.0\")\n    releaseImplementation(\"ro.cosminmihu.ktor:ktor-monitor-logging-no-op:1.10.0\")\n}\n</code></pre> <p>For Android minSdk &lt; 26, Core Library Desugaring is required.</p>"},{"location":"getting_started/#install-ktor-client-plugin","title":"Install Ktor Client Plugin","text":"<pre><code>HttpClient {\n\n    install(KtorMonitorLogging) {  \n        sanitizeHeader { header -&gt; header == \"Authorization\" }  \n        filter { request -&gt; !request.url.host.contains(\"cosminmihu.ro\") }  \n        showNotification = true  \n        retentionPeriod = RetentionPeriod.OneHour\n        maxContentLength = ContentLength.Default\n    }\n}\n</code></pre> <ul> <li><code>sanitizeHeader</code> - sanitize sensitive headers to avoid their values appearing in the logs</li> <li><code>filter</code> - filter logs for calls matching a predicate.</li> <li><code>showNotification</code> - Keep track of latest requests and responses into notification. Default is true. Android and iOS only. Notifications permission needs to be granted.</li> <li><code>retentionPeriod</code> - The retention period for the logs. Default is 1h.</li> <li><code>maxContentLength</code> - The maximum length of the content that will be logged. After this, body will be truncated. Default is 250_000. To log the entire body use <code>ContentLength.Full</code>.</li> </ul>"},{"location":"integration/","title":"Integration","text":"<p>Add the UI component to your application based on your targeted platform.</p>"},{"location":"integration/#compose-multiplatform-common","title":"Compose Multiplatform (Common)","text":"<ul> <li>Use <code>KtorMonitor</code> Composable</li> </ul> <pre><code>@Composable\nfun Composable() {\n    KtorMonitor()\n}\n</code></pre>"},{"location":"integration/#android","title":"Android","text":"<ul> <li>If <code>showNotifcation = true</code> and android.permission.POST_NOTIFICATIONS is granted, the library will display a notification showing a summary of ongoing KTOR activity. Tapping on the notification launches the full <code>KtorMonitor</code>.</li> <li>Apps can optionally use the <code>KtorMonitor()</code> Composable directly into own Composable code.</li> <li>For Android minSdk &lt; 26, Core Library Desugaring is required.</li> </ul>"},{"location":"integration/#ios","title":"iOS","text":"<ul> <li> <p>If <code>showNotifcation = true</code> and notification permission is granted, the library will display a notification showing a summary of ongoing KTOR activity.</p> </li> <li> <p>Use <code>KtorMonitorViewController</code></p> </li> </ul> <pre><code>fun MainViewController() = KtorMonitorViewController()\n</code></pre> <pre><code>struct KtorMonitorView: UIViewControllerRepresentable {\n    func makeUIViewController(context: Context) -&gt; UIViewController {\n        MainViewControllerKt.MainViewController()\n    }\n\n    func updateUIViewController(_ uiViewController: UIViewController, context: Context) {}\n}\n\nstruct ContentView: View {\n    var body: some View {\n        KtorMonitorView()\n            .ignoresSafeArea()\n    }\n}\n</code></pre>"},{"location":"integration/#desktop-compose","title":"Desktop (Compose)","text":"<ul> <li>Use <code>KtorMonitorWindow</code> Composable</li> </ul> <pre><code>fun main() = application {\n\n    var showKtorMonitor by rememberSaveable { mutableStateOf(false) }\n    KtorMonitorWindow(\n        onCloseRequest = { showKtorMonitor = false },\n        show = showKtorMonitor\n    )\n}\n</code></pre> <ul> <li>Use <code>KtorMonitorWindow</code> Composable with <code>KtorMonitorMenuItem</code></li> </ul> <pre><code>fun main() = application {\n\n    var showKtorMonitor by rememberSaveable { mutableStateOf(false) }\n    Tray(\n        icon = painterResource(Res.drawable.ic_launcher),\n        menu = {\n            KtorMonitorMenuItem { showKtorMonitor = true }\n        }\n    )\n\n    KtorMonitorWindow(\n        show = showKtorMonitor,\n        onCloseRequest = { showKtorMonitor = false }\n    )\n\n}\n</code></pre>"},{"location":"integration/#desktop-swing","title":"Desktop (Swing)","text":"<ul> <li>Use <code>KtorMonitorPanel</code> Swing Panel</li> </ul> <pre><code>fun main() = application {\n\n    SwingUtilities.invokeLater {\n        val frame = JFrame()\n        frame.add(KtorMonitorPanel, BorderLayout.CENTER)\n        frame.isVisible = true\n    }\n\n}\n</code></pre>"},{"location":"integration/#wasm-js","title":"Wasm / Js","text":"<ul> <li>Web targets require a few additional webpack steps.</li> </ul> <pre><code>kotlin {\n    sourceSets {\n        webMain.dependencies {\n            implementation(devNpm(\"copy-webpack-plugin\", \"9.1.0\"))\n        }\n    }\n}\n</code></pre> <pre><code>// {project}/webpack.config.d/sqljs.js\nconfig.resolve = {\n    fallback: {\n        fs: false,\n        path: false,\n        crypto: false,\n    }\n};\n\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\nconfig.plugins.push(\n    new CopyWebpackPlugin({\n        patterns: [\n            '../../node_modules/sql.js/dist/sql-wasm.wasm'\n        ]\n    })\n);\n</code></pre> <pre><code>ComposeViewport {\n    App()\n}\n</code></pre>"}]}